[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "オペレーションズ・リサーチ",
    "section": "",
    "text": "Preface\nThis is a Quarto book.\nTo learn more about Quarto books visit https://quarto.org/docs/books.",
    "crumbs": [
      "Preface"
    ]
  },
  {
    "objectID": "inventory/intro.html",
    "href": "inventory/intro.html",
    "title": "1  在庫管理とは",
    "section": "",
    "text": "1.1 在庫モデルの分類\n商店・工場・倉庫などで、原材料・部品・製品などを適切に管理することを在庫管理（Inventory Management）という。一般的に、在庫管理の目的は、顧客の需要を満たしつつ、在庫に関わる費用を最小化することである。\n在庫が多すぎると、保管費用がかかる。逆に、在庫が少なすぎると、欠品が発生し、顧客の需要を満たせなくなる。在庫管理は次の二つの問題を決定する。\n科学的在庫管理（Scientific Inventory Management）では、これらの問題に答えるために、次の手順で在庫管理を行う。\n在庫モデルは、次のような要素で分類される。\n以下の表に、需要と観測に基づく、古典的な在庫モデルを示す。",
    "crumbs": [
      "在庫モデル",
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>在庫管理とは</span>"
    ]
  },
  {
    "objectID": "inventory/intro.html#在庫モデルの分類",
    "href": "inventory/intro.html#在庫モデルの分類",
    "title": "1  在庫管理とは",
    "section": "",
    "text": "需要（demand）\n\n需要が決定論的 (Deterministic) か確率的（Stochastic）か。\n\n観測（review）\n\n在庫量を連続観測 (Continuous Review) するか、周期観測 (Periodic Review) するか。連続観測の場合、在庫量が連続的に観測でき、いつでも発注が可能である。周期観測の場合、一定の期間（例えば1週間）ごとに在庫量を観測する。\n\nリードタイム（lead time）\n\n発注から納品までの期間。調達期間とも呼ばれる。リードタイムが決定論的か確率的か。また、リードタイムが0かどうか。在庫モデルを単純化するために、リードタイムを0とし、発注から納品までの期間を無視することもある。\n\nバックオーダー（backorder）\n\nバックオーダーが許容されるかどうか。需要が在庫を上回った場合、バックオーダーが許容されると、欠品が発生しても、後で需要を満たすことができる。バックオーダーが許容されない場合、欠品が発生すると、上回った需要は失われ、機会損失が発生する。\n\n計画期間（planning horizon）\n\n単一期間 (Single Period) か、複数期間 (Multi Period) か、無限 (Infinite) か。\n\n\n\n\n\n\n在庫モデル\n需要\n観測\n\n\n\n\nEOQモデル\n決定論的\n連続観測\n\n\nWagner-Whitin\n決定論的\n周期観測\n\n\n安全在庫\n確率的\n連続観測\n\n\n新聞売り子問題\n確率的\n周期観測",
    "crumbs": [
      "在庫モデル",
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>在庫管理とは</span>"
    ]
  },
  {
    "objectID": "inventory/intro.html#在庫の費用",
    "href": "inventory/intro.html#在庫の費用",
    "title": "1  在庫管理とは",
    "section": "1.2 在庫の費用",
    "text": "1.2 在庫の費用\nここでは、在庫に関わる費用を紹介する。\n\n発注費用（ordering cost）\n\n発注量に関わらず、1回の発注にかかる費用。調達費用、固定費用（fixed cost）などとも呼ばれる。通常、1回の発注にかかる費用を \\(K\\) とする。\n\n購入費用（purchase cost）\n\n商品を購入するためにかかる費用。通常、単位あたりの購入費用を \\(c\\) とする。\n\n欠品費用（stockout cost）\n\n需要が在庫を上回った場合に発生する費用。通常、単位あたりの欠品費用を \\(p\\) とする。\n\n保管費用（holding cost）\n\n在庫を保管するためにかかる倉庫費用、保険費用、税金、機会費用など。通常、単位時間あたりの1単位あたりの保管費用を \\(h\\) とする。\n\n\n例えば、1日あたり1単位の在庫を保管するために、\\(h\\) の費用がかかるとする。30日間、50単位の在庫を保管するための総保管費用は \\(30 \\times 50 \\times h = 1500h\\) となる。下の図を見ると、保管費用は\n\\[\n\\text{面積} \\times h = 1500h\n\\]\nとなることがわかる。\n\n\nコード\nimport matplotlib.pyplot as plt\nimport numpy as np\n\nt = np.linspace(0, 30, 1000)\ninventory = np.full_like(t, 50)\n\n# Plotting the inventory level\nplt.fill_between(t, inventory, color=\"lightgray\", alpha=0.5, label=\"Inventory Level\")\nplt.plot(t, inventory, label=\"Inventory Level\", color=\"black\", linewidth=2)\nplt.xlabel(\"Time\")\nplt.ylabel(\"Inventory Level\")\nplt.axhline(0, color=\"gray\", linewidth=1)\nplt.tight_layout()\nplt.show()\n\n\n\n\n\n\n\n\n\n一般的に、在庫量が定数ではなく、時間とともに変化する。例えば、発注量を \\(500\\) とし、6 日間の在庫量を考える。\n\n\nコード\n# Parameters\nd = 250  # Demand rate\nQ = 500  # Order quantity\nT = Q / d  # Cycle length\nt = np.linspace(0, 2.999 * T, 1000)\n\n# Inventory level over time\ninventory = np.maximum(0, Q - (d * t) % Q)\n\n# Plotting the inventory level\nplt.fill_between(t, inventory, color=\"lightgray\", alpha=0.5, label=\"Inventory Level\")\nplt.plot(t, inventory, label=\"Inventory Level\", color=\"black\", linewidth=2)\nplt.xlabel(\"Time\")\nplt.ylabel(\"Inventory Level\")\nplt.axhline(0, color=\"gray\", linewidth=1)\nplt.ylim(bottom=0, top=Q + 200)\nplt.tight_layout()\nplt.show()\n\n\n\n\n\n\n\n\n\n保管費用は次のように計算される。\n\\[\n\\frac{2 \\times 500}{2} \\times 3 \\times h\n\\]",
    "crumbs": [
      "在庫モデル",
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>在庫管理とは</span>"
    ]
  },
  {
    "objectID": "inventory/eoq.html",
    "href": "inventory/eoq.html",
    "title": "2  経済的発注量",
    "section": "",
    "text": "2.1 コスト関数\n経済的発注量（EOQ: Economic Order Quantity）モデルは、最も基本的な在庫管理モデルの一つである。Harris (1990) このモデルを最初に提案した。\nEOQモデルは、単位時間あたりの需要量は決定論的で、一定であると仮定する。すなわち、需要量は事前に分かっており、時間とともに変化しない。単位時間あたりの需要量は需要率（demand rate）と呼ばれ、記号 \\(d\\) で表される。リードタイムは0とし、発注から納品までの時間はないと仮定する。一回の発注量を \\(Q\\) とし、一定であるとする。欠品は許せないとする。全ての需要は満されなければならない。また、EOQモデルでは、在庫量は連続的に観測され、いつでも発注が可能であるとする。\n在庫に関わる費用は、発注費用 \\(K\\)、保管費用 \\(h\\) と、購入費用（購入単価を \\(c\\) と表す）がある。\nEOQモデルの最適解は次の二つの性質を持つ(Snyder と Shen 2019)：\n以上の性質から、在庫量の時間的変化は下図のようになる。\n発注の間隔をサイクル(cycle)と呼び、サイクル期間は\n\\[\nT = \\frac{Q}{d}\n\\]\nで与えられる。\nここでは、1サイクルあたりのコストを考える。\n発注費用：発注は1回だけ行うため、発注費用は \\(K\\) である。\n購入費用：\\(Q\\) 個の商品を単価 \\(c\\) で購入するため、購入費用は \\(cQ\\) である。\n保管費用：在庫量はサイクル期間 \\(T\\) の間に \\(Q\\) 個から0個まで減少するため、平均在庫量は \\(\\frac{Q}{2}\\) である。したがって、平均保管費用は \\(\\frac{hQ}{2}\\) である。サイクル期間 \\(T\\) は \\(\\frac{Q}{d}\\) であるため、1サイクルあたりの保管費用は\n\\[\n\\frac{hQ}{2} \\cdot T = \\frac{hQ^2}{2d}\n\\]\nとなる。\n以上より、1サイクルあたりのコストは次のように表される。\n\\[\nK + cQ + \\frac{hQ^2}{2d}\n\\]\n平均コストは、これをサイクル期間 \\(T\\) で割ったものとして定義される。したがって、平均コスト \\(g(Q)\\) は次のように表される。\n\\[\\begin{align*}\ng(Q) &= \\frac{1}{T} \\left( K + cQ + \\frac{hQ^2}{2d} \\right) \\\\\n&= \\frac{d}{Q} \\left( K + cQ + \\frac{hQ^2}{2d} \\right) \\\\\n&= \\frac{Kd}{Q} + c d + \\frac{hQ}{2}\n\\end{align*}\\]\n以上より、平均コストは発注量 \\(Q\\) の関数として次のように表される。\n\\[\ng(Q) = \\frac{Kd}{Q} + cd + \\frac{hQ}{2}\n\\]",
    "crumbs": [
      "在庫モデル",
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>経済的発注量</span>"
    ]
  },
  {
    "objectID": "inventory/eoq.html#最適発注量",
    "href": "inventory/eoq.html#最適発注量",
    "title": "2  経済的発注量",
    "section": "2.2 最適発注量",
    "text": "2.2 最適発注量\nEOQモデルの目的は、平均コスト \\(g(Q)\\) を最小化する発注量 \\(Q\\) を求めることである。\n平均コストの導関数 \\(g'(Q)\\) が 0 となる点を求めることで、最適発注量 \\(Q^*\\) を求めることができる。\n\\[\ng'(Q) = -\\frac{Kd}{Q^2} + \\frac{h}{2} = 0\n\\]\nこれを解くと、最適発注量\n\\[\nQ^* = \\sqrt{\\frac{2Kd}{h}}\n\\]\nを得る。これをEOQ公式（EOQ formula）と呼ぶ。\\(Q^*\\) を経済的発注量と呼ぶ（経済的は最適という意味である）。\n二階導関数 \\(g''(Q)\\) を求めて、最適発注量が最小値を与えることを確認する。\n\\[\ng''(Q) = \\frac{2Kd}{Q^3} &gt; 0\n\\]\n\\(g''(Q) &gt; 0\\) であるため、\\(Q^*\\) は最小値を与える。\n最適発注量 \\(Q^*\\) を次の定理にまとめる。\n\n定理 2.1 EOQモデルにおいて、最適発注量 \\(Q^*\\) は \\[\nQ^* = \\sqrt{\\frac{2Kd}{h}}\n\\]\nで与えられる。\n\n\\(Q^*\\) を用いて、最適なサイクル期間 \\(T^*\\) を求めることができる。\n\\[\nT^* = \\frac{Q^*}{d} = \\sqrt{\\frac{2K}{hd}}\n\\]\n\n注釈 2.1. 以下の性質がわかる。\n\n\\(Q^*\\) は \\(c\\) には依存しない。\n\\(h\\) の増加に伴い、\\(Q^*\\) は減少する。保管費用が高い場合は、少量で高い頻度で発注することが望ましい。\n\\(K\\) の増加に伴い、\\(Q^*\\) は増加する。発注費用が高い場合は、多量で低い頻度で発注することが望ましい。\n\n\n次の図は、発注コスト、保管コスト、平均コストの関係を示している。購入単価を \\(c = 0\\) とする。\n\n\nコード\n# Parameters\nK = 500  # Order cost\nh = 15  # Holding cost\nc = 0  # Purchase cost\nQ = np.linspace(1, 50, 50)\n\n# Average cost function\ng = (K / Q) + c + (h * Q / 2)\n\n# Plotting the costs vs order quantity\nplt.plot(Q, K / Q, label=\"Order Cost\", color=\"blue\", linewidth=2)\nplt.plot(Q, c + (h * Q / 2), label=\"Holding Cost\", color=\"orange\", linewidth=2)\nplt.plot(Q, g, label=\"Average Cost\", color=\"green\", linewidth=2)\nplt.axvline(\n    x=np.sqrt(2 * K / h),\n    color=\"red\",\n    linestyle=\"--\",\n    label=\"Optimal Order Quantity\",\n    linewidth=2,\n)\nplt.xlabel(\"Order Quantity (Q)\")\nplt.ylabel(\"Cost\")\nplt.tight_layout()\nplt.show()  \n\n\n\n\n\n\n\n\n\n平均コストが最小となる発注量 \\(Q^*\\) は、発注コストと保管コストの交差点である。すなわち、発注コストと保管コストを等しくする発注量は最適な発注量 \\(Q^*\\) である。この性質は以下の式からわかる。\n\\[\n\\frac{Kd}{Q^*} = \\frac{hQ^*}{2} \\Longrightarrow Q^* = \\sqrt{\\frac{2Kd}{h}}\n\\]\nまた、この図からもわかるように、\\(Q\\) の増加に伴い、平均発注コストは減少し、平均保管コストは増加する。逆もまた然りである。\n\n例 2.2 ある電気量販店では、毎月250台のPCが販売されている。発注費用は5000円、保管費用は1台あたり月150円、購入単価は10万円とする。このとき、最適発注量 \\(Q^*\\) は次のように求められる。\n\\[\nQ^* = \\sqrt{\\frac{2 \\cdot 5000 \\cdot 250}{150}}\n\\]\n最適発注量 \\(Q^*\\) を次で計算する。\n\ndef eoq(K, d, h):\n    \"\"\"\n    Calculate the Economic Order Quantity (EOQ).\n\n    Parameters:\n    K (float): Order cost\n    d (float): Demand rate\n    h (float): Holding cost\n\n    Returns:\n    float: Optimal order quantity Q*\n    \"\"\"\n    return np.sqrt(2 * K * d / h)\n\n\nif __name__ == \"__main__\":\n    K = 5000  # Order cost\n    d = 250  # Demand rate (units per month)\n    h = 150  # Holding cost (per unit per month)\n\n    Q_star = eoq(K, d, h)\n    print(f\"Optimal Order Quantity (Q*): {Q_star:.2f}\")\n\nOptimal Order Quantity (Q*): 129.10\n\n\nPCの場合は、注文量が整数である必要があるため、\\(g(129)\\) と \\(g(130)\\) を比較して最適発注量を決定する。",
    "crumbs": [
      "在庫モデル",
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>経済的発注量</span>"
    ]
  },
  {
    "objectID": "inventory/eoq.html#リードタイム",
    "href": "inventory/eoq.html#リードタイム",
    "title": "2  経済的発注量",
    "section": "2.3 リードタイム",
    "text": "2.3 リードタイム\nEOQ モデルでは、リードタイムは0と仮定している。リードタイムが \\(L &gt; 0\\) の場合も、最適発注量 \\(Q^*\\) も変換せず、\\(L\\) 期間前に \\(Q^*\\) を発注すればよい。\nここでは、\\(r\\) を発注点（reorder point）とする。在庫量が \\(r\\) になったときに発注を行う。リードタイム \\(L\\) の間に需要が \\(dL\\) 個あるため、発注点は次のように表される。\n\\[\nr = dL\n\\]\n\n例 2.3 上の例で、リードタイムが一週間とし、一か月を4週間とすると、リードタイムは \\(L = 1/4\\) となる。したがって、発注点は次のように求められる。\n\\[\nr = dL = 250 \\times \\frac{1}{4} = 62.5\n\\]\nPCの在庫量が63台になったときに発注を行う。",
    "crumbs": [
      "在庫モデル",
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>経済的発注量</span>"
    ]
  },
  {
    "objectID": "inventory/eoq.html#他のeoqモデル",
    "href": "inventory/eoq.html#他のeoqモデル",
    "title": "2  経済的発注量",
    "section": "2.4 他のEOQモデル",
    "text": "2.4 他のEOQモデル\n\nバックオーダーを考慮したEOQモデル\n数量割引（quantity discount）を考慮したEOQモデル\n\n総量割引（all-units discount）\n増分割引（incremental discount）\n\n\n\n\n\n\nHarris, Ford W. 1990. 「How many parts to make at once」. Oper. Res. 38 (6): 947–50.\n\n\nSnyder, Lawrence V, と Zuo-Jun Max Shen. 2019. Fundamentals of supply chain theory. 2nd 版. Nashville, TN: John Wiley & Sons.",
    "crumbs": [
      "在庫モデル",
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>経済的発注量</span>"
    ]
  },
  {
    "objectID": "references.html",
    "href": "references.html",
    "title": "References",
    "section": "",
    "text": "Harris, Ford W. 1990. “How Many Parts to Make at Once.”\nOper. Res. 38 (6): 947–50.\n\n\nSnyder, Lawrence V, and Zuo-Jun Max Shen. 2019. Fundamentals of\nSupply Chain Theory. 2nd ed. Nashville, TN: John Wiley & Sons.",
    "crumbs": [
      "References"
    ]
  }
]